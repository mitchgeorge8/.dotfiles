#!/usr/bin/bash

modrinth="https://api.modrinth.com/v2/project"
version="1.21.1"

mods=(
	"ambient-environment"
	"appleskin"
	"architectury-api"
	"cobblemon-badgebox"
	"badoptimizations"
	"balm"
	"better-advancements"
	"better-ping-display-fabric"
	"better-third-person"
	"cardinal-components-api"
	"chat-heads"
	"chunky"
	"cit-resewn"
	"cloth-config"
	"cobbledollars"
	"cobblemon-additions"
	"cobblemon-armors"
	"cobblemon-armors-feature"
	"cobblemon"
	"cobblemon-ui-tweaks"
	"cobblemon-knowlogy"
	"cobblemon-mega-showdown"
	"cobblemon-team-preview"
	"cobblemon-auto-tidy-up-pc"
	"cobblemon-box-link"
	"cobblemon-integrations"
	"cobblemon-knowlogy"
	"cobblemon-pokemon-badges"
	"cobblemon-pokenav"
	"cobblemon-ride-on"
	"cobbreeding"
	"cobblemon-confirm-release"
	"cobblemon-counter"
	"distraction-free-recipes"
	"dynamiccrosshair"
	"emi"
	"ebe"
	"entity-model-features"
	"entitytexturefeatures"
	"entityculling"
	"explorers-compass"
	"fabric-api"
	"fabric-language-kotlin"
	"fast-ip-ping"
	"ferrite-core"
	"cobblemon-fight-or-flight-reborn"
	"forge-config-api-port"
	"geckolib"
	"immediatelyfast"
	"iris"
	"jade"
	"jei"
	"knowlogy"
	"krypton"
	"lambdynamiclights"
	"language-reload"
	"lavender"
	"libjf"
	"lithium"
	"livelierpokemon"
	"make_bubbles_pop"
	"midnightlib"
	"modernfix"
	"modmenu"
	"more-cobblemon-tweaks"
	"moreculling"
	"natures-compass"
	"no-underleveled-evolutions-cobblemon"
	"no-chat-reports"
	"owo-lib"
	"particle-rain"
	"particular"
	"raised"
	"rctapi"
	"rctmod"
	"reeses-sodium-options"
	"respackopts"
	"show-held-items"
	"simpletms-tms-and-trs-for-cobblemon"
	"sodium-extra"
	"sodium"
	"sodium-shadowy-path-blocks"
	"sodium-extras"
	"sodiumleafculling"
	"sophisticated-backpacks-(unoffical-fabric-port)"
	"sophisticated-core-(unofficial-fabric-port)"
	"sound-physics-remastered"
	"swingthrough"
	"cobblemon-tim-core"
	"tooltipfix"
	"trinkets"
	"tsfitemcore"
	"txnilib"
	"simple-voice-chat"
	"waystones"
	"xaeros-minimap"
	"xaeros-world-map"
	"zoomify"
	)

resourcepacks=(
	"cobblemon-classic-grass-pack"
	"cobblemon-interface"
	"cobblemon-interface-modded"
	"cobblemon-text-fix"
	"cobblemotion"
	"cobblesounds"
	"e19_cobblemon_minimap_icons"
	"rct-trainer-textures-plus"
	)

for mod in "${mods[@]}"
do
	url=$(curl -s "$modrinth/$mod/version" | jq '[.[] | select(.game_versions[]=="'$version'" and .loaders[]=="fabric")][0] | .files[0].url')
	wget -nc -P $HOME/.minecraft/mods ${url//\"/}
done

for resourcepack in "${resourcepacks[@]}"
do
	url=$(curl -s "$modrinth/$resourcepack/version" | jq '[.[] | select(.game_versions[]=="'$version'")][0] | .files[0].url')
	wget -nc -P $HOME/.minecraft/resourcepacks ${url//\"/}
done
